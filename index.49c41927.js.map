{"mappings":"AAEA,IAAIA,EAAO,GACPC,EAAO,EACX,MAEMC,EAAOC,SAASC,eAAe,eAC/BC,EAAUF,SAASG,cAAc,YACjCC,EAAUJ,SAASG,cAAc,cAiBvCE,eAAeC,EAAYC,GACzB,MAAMC,QAAiBC,MACrB,qEAAqEF,kEAAqET,kBAE5I,IAAKU,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,QAE3B,MAAMC,QAAuBL,EAASM,OAoDxC,IAAsBC,EAnDpB,GAAmC,IAA/BF,EAAeG,KAAKC,OAKxB,OA8CoBF,EAhDPF,EAAeK,UAhCd,IAiFVpB,EAAiBiB,GACnBI,QAAQC,IAAI,cAjDdtB,GAAQ,EACDe,C,CAGTR,eAAegB,EAAcC,GAC3B,IACE,MAAMC,QAAsBjB,EAAYgB,GAElCE,EADeD,EAAcP,KAEhCS,KACC,EAACC,aACCA,EAAYC,cACZA,EAAaC,KACbA,EAAIC,MACJA,EAAKC,MACLA,EAAKC,SACLA,EAAQC,UACRA,KAEO,qDACSN,WAAsBE,0FAG9BC,+DAGAC,kEAGGC,mEAGCC,sCAMfC,KAAK,IACR/B,EAAQgC,mBAAmB,YAAaV,E,CACxC,MACAL,QAAQC,IACN,2E,EArENrB,EAAKoC,iBAAiB,UAGtB,SAAsBC,GACpBA,EAAEC,iBACFnC,EAAQoC,UAAY,GACpBxC,EAAO,EACPD,EAAOuC,EAAEG,cAAcC,SAASC,YAAYC,MAC5CrB,EAAcxB,E,IAPhBO,EAAQ+B,iBAAiB,SAUzB,SAAkBC,GAChBf,EAAcxB,E","sources":["src/index.js"],"sourcesContent":["import './css/styles.css';\n\nlet name = '';\nlet page = 1;\nconst perPage = 150;\nconst DEBOUNCE_DELAY = 300;\nconst form = document.getElementById('search-form');\nconst gallery = document.querySelector('.gallery');\nconst btnMore = document.querySelector('.load-more');\n\nform.addEventListener('submit', searchImages);\nbtnMore.addEventListener('click', loadMore);\n\nfunction searchImages(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  page = 1;\n  name = e.currentTarget.elements.searchQuery.value;\n  renderGallery(name);\n}\n\nfunction loadMore(e) {\n  renderGallery(name);\n}\n\nasync function fetchImages(name) {\n  const responce = await fetch(\n    `https://pixabay.com/api/?key=33963578-40585d75b8e2e6d6690e20bc4&q=${name}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`\n  );\n  if (!responce.ok) {\n    throw new Error(responce.status);\n  }\n  const galleryPromise = await responce.json();\n  if (galleryPromise.hits.length === 0) {\n    return;\n  }\n  limitOfShows(galleryPromise.totalHits);\n  page += 1;\n  return galleryPromise;\n}\n\nasync function renderGallery(name) {\n  try {\n    const galleryObject = await fetchImages(name);\n    const galleryArray = galleryObject.hits;\n    const markup = galleryArray\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `<div class=\"photo-card\">\n  <img width = 300 src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes: ${likes}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Views: ${views}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Comments: ${comments}</b>\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads: ${downloads}</b>\n    </p>\n  </div>\n</div>`;\n        }\n      )\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n  } catch {\n    console.log(\n      'Sorry, there are no images matching your search query. Please try again.'\n    );\n  }\n}\n\nfunction limitOfShows(limit) {\n  if (page * perPage > limit) {\n    console.log('To much!!!');\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$name","$1f0dc3b9307be026$var$page","$1f0dc3b9307be026$var$form","document","getElementById","$1f0dc3b9307be026$var$gallery","querySelector","$1f0dc3b9307be026$var$btnMore","async","$1f0dc3b9307be026$var$fetchImages","name1","responce","fetch","ok","Error","status","galleryPromise","json","limit","hits","length","totalHits","console","log","$1f0dc3b9307be026$var$renderGallery","name2","galleryObject","markup","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","addEventListener","e","preventDefault","innerHTML","currentTarget","elements","searchQuery","value"],"version":3,"file":"index.49c41927.js.map"}